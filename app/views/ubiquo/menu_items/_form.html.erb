<script type="text/javascript">
  function toggle_element(checkbox, name) {  
    if(checkbox.checked){
      $(name).up('p').show();
    }else{
      $(name).up('p').hide();
    }
  }
  
  document.observe("dom:loaded", function() {
    toggle_element($('menu_item_is_linkable'), 'menu_item_url');
  });
</script>

<%= error_messages_for 'menu_item' %>

<div class="form_box">
  <%= f.hidden_field :parent_id %>
  <%= uhook_extra_hidden_fields(f) %>

  <p>
    <%= f.label :caption, MenuItem.human_attribute_name("caption") %>
    <%= f.text_field :caption %>
  </p>
  <p>
    <%= f.label :is_linkable, MenuItem.human_attribute_name("is_linkable") %>
    <%= f.check_box :is_linkable, :onclick => "toggle_element(this, 'menu_item_url'); return true;" %>
  </p>
  <p style="display: none;">
    <%= f.label :url, MenuItem.human_attribute_name("url") %>
    <%= f.text_field :url %>
  </p>
  <p>
    <%= f.label :description, MenuItem.human_attribute_name("description") %>
    <%= f.text_area :description, :rows => 4 %>
  </p>
  <p>
    <%= f.label :is_active, MenuItem.human_attribute_name("is_active") %>
    <%= f.check_box :is_active %>
  </p>
</div>

<% content_for :sidebar do %>
  <%= help_block_sidebar(t("ubiquo.helpmsg.menus.menu_items.form")) %>
<% end %>
